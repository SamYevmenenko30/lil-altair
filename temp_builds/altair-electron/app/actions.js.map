{"version":3,"file":"actions.js","sources":["app/actions.ts"],"sourceRoot":"/","sourcesContent":["import { importBackupData } from '../utils/backup';\nimport { checkForUpdates } from '../updates';\nimport { BrowserWindow, MenuItem } from 'electron';\nimport url from 'url';\nimport path from 'path';\nimport { getDistDirectory } from '@altairgraphql/electron-settings-static';\nimport { WindowManager } from './window';\n\nexport class ActionManager {\n  constructor(private windowManager: WindowManager) {}\n\n  createTab() {\n    this.windowManager.getInstance()?.webContents.send('create-tab', true);\n  }\n\n  closeTab() {\n    this.windowManager.getInstance()?.webContents.send('close-tab', true);\n  }\n\n  nextTab() {\n    this.windowManager.getInstance()?.webContents.send('next-tab', true);\n  }\n\n  previousTab() {\n    this.windowManager.getInstance()?.webContents.send('previous-tab', true);\n  }\n\n  reopenClosedTab() {\n    this.windowManager\n      .getInstance()\n      ?.webContents.send('reopen-closed-tab', true);\n  }\n\n  sendRequest() {\n    this.windowManager.getInstance()?.webContents.send('send-request', true);\n  }\n\n  reloadDocs() {\n    this.windowManager.getInstance()?.webContents.send('reload-docs', true);\n  }\n\n  showDocs() {\n    this.windowManager.getInstance()?.webContents.send('show-docs', true);\n  }\n\n  showSettings() {\n    this.windowManager.getInstance()?.webContents.send('show-settings', true);\n  }\n\n  importAppData() {\n    const windowInstance = this.windowManager.getInstance();\n    if (windowInstance) {\n      importBackupData(windowInstance);\n    }\n  }\n\n  exportAppData() {\n    this.windowManager.getInstance()?.webContents.send('export-app-data', true);\n  }\n\n  checkForUpdates(menuItem: MenuItem) {\n    return checkForUpdates(menuItem);\n  }\n\n  async showPreferences() {\n    const prefWindow = new BrowserWindow({\n      width: 600,\n      height: 600,\n      minWidth: 500,\n      minHeight: 200,\n      webPreferences: {\n        nodeIntegration: true,\n        contextIsolation: false,\n      },\n      // acceptFirstMouse: true,\n      // titleBarStyle: 'hidden',\n    });\n\n    // and load the index.html of the app.\n    try {\n      return prefWindow.loadURL(\n        url.format({\n          // pathname: path.resolve(\n          //   require.resolve('@altairgraphql/electron-settings')\n          // ),\n          pathname: path.resolve(getDistDirectory(), 'index.html'),\n          protocol: 'file:',\n          slashes: true,\n        })\n      );\n    } catch (err) {\n      console.log('Error loading settings window', err);\n    }\n  }\n}\n"],"names":[],"mappings":"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","debug_id":"e8fc9cb1-a20a-5ebf-8719-65959126602d"}