{"version":3,"file":"events.js","sources":["settings/main/events.ts"],"sourceRoot":"/","sourcesContent":["import { ipcMain, IpcRenderer, WebContents } from 'electron';\nimport { store } from './store';\nimport { autoUpdater } from 'electron-updater';\nimport {\n  IPC_EVENT_NAMES,\n  SETTINGS_STORE_EVENTS,\n} from '@altairgraphql/electron-interop';\n\nexport const initSettingsStoreEvents = () => {\n  ipcMain.on(SETTINGS_STORE_EVENTS.GET_SETTINGS_DATA, e => {\n    e.returnValue = store.get('settings');\n  });\n\n  ipcMain.on(SETTINGS_STORE_EVENTS.UPDATE_SETTINGS_DATA, (e, value) => {\n    e.returnValue = store.set('settings', value);\n  });\n};\n\nexport const initUpdateAvailableEvent = (webContent: WebContents) => {\n  autoUpdater.on('update-available', () => {\n    webContent.send(IPC_EVENT_NAMES.UPDATE_AVAILABLE);\n  });\n  ipcMain.on(IPC_EVENT_NAMES.RENDERER_UPDATE_APP, () => {\n    autoUpdater.downloadUpdate();\n  });\n};\n"],"names":[],"mappings":";;;;;AAAA,uCAA6D;AAC7D,mCAAgC;AAChC,uDAA+C;AAC/C,sEAGyC;AAElC,MAAM,uBAAuB,GAAG,GAAG,EAAE;IAC1C,kBAAO,CAAC,EAAE,CAAC,wCAAqB,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE;QACtD,CAAC,CAAC,WAAW,GAAG,aAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,kBAAO,CAAC,EAAE,CAAC,wCAAqB,CAAC,oBAAoB,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;QAClE,CAAC,CAAC,WAAW,GAAG,aAAK,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AARW,QAAA,uBAAuB,2BAQlC;AAEK,MAAM,wBAAwB,GAAG,CAAC,UAAuB,EAAE,EAAE;IAClE,8BAAW,CAAC,EAAE,CAAC,kBAAkB,EAAE,GAAG,EAAE;QACtC,UAAU,CAAC,IAAI,CAAC,kCAAe,CAAC,gBAAgB,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;IACH,kBAAO,CAAC,EAAE,CAAC,kCAAe,CAAC,mBAAmB,EAAE,GAAG,EAAE;QACnD,8BAAW,CAAC,cAAc,EAAE,CAAC;IAC/B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAPW,QAAA,wBAAwB,4BAOnC","debug_id":"b96dd018-385c-5dbc-9559-1f7fb6973c5d"}